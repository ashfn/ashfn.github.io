<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/fc78d7f357de104b-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/7374508bee51fb34.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/3864b451a61e4546.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-03eb770fb92866e8.js"/><script src="/_next/static/chunks/4bd1b696-56116d406dee7a01.js" async=""></script><script src="/_next/static/chunks/517-718b8866552eb64f.js" async=""></script><script src="/_next/static/chunks/main-app-9071301981a55316.js" async=""></script><script src="/_next/static/chunks/app/layout-7bf6758fb5f273d3.js" async=""></script><script src="/_next/static/chunks/606-87b5527f068dfcd7.js" async=""></script><script src="/_next/static/chunks/173-bdc4390233342f3f.js" async=""></script><script src="/_next/static/chunks/app/error-41473be2b1332ec4.js" async=""></script><script src="/_next/static/chunks/5e22fd23-e3b42928b29e9ef2.js" async=""></script><script src="/_next/static/chunks/app/not-found-0ea2b0cea0bef037.js" async=""></script><script src="/_next/static/chunks/bdfe9574-bcc0677e7e5c7472.js" async=""></script><script src="/_next/static/chunks/126-4575238353f7612a.js" async=""></script><script src="/_next/static/chunks/565-7eb30c6b522f4cd0.js" async=""></script><script src="/_next/static/chunks/app/blog/posts/3/page-46247d7387207951.js" async=""></script><script src="/_next/static/chunks/app/global-error-de714b0c9f5b5117.js" async=""></script><meta name="next-size-adjust" content=""/><title>Asher Falcon</title><meta name="description" content="Asher Falcon&#x27;s personal website - Software engineer and student"/><meta name="author" content="Asher Falcon"/><meta name="keywords" content="Asher Falcon,Software Engineer,Student,Developer,Portfolio"/><meta name="creator" content="Asher Falcon"/><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class=" __className_9696c7 " style="min-height:100vh;background-color:var(--page-bg, #dce3dc)"><div><div class="h-screen bg-ashwhite"><div style="opacity:0"><div style="padding-top:50px" class="relative flex justify-center items-center h-[50px]"><div class="absolute left-0 flex items-center h-full ml-6"><button class="flex items-center justify-center p-0 m-0 bg-transparent border-0 cursor-pointer " aria-label="Go back"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="30" width="30" xmlns="http://www.w3.org/2000/svg"><path d="M427 234.625H167.296l119.702-119.702L256 85 85 256l171 171 29.922-29.924-118.626-119.701H427v-42.75z"></path></svg></button></div><span class="text-sm sm:text-base md:text-xl lg:text-2xl truncate max-w-[80%]">hiding messages in playing cards</span></div><div style="padding-top:30px" class="flex justify-center items-center md:w-[70%] xl:w-[50%] w-[85%] mx-auto"><div><p>I was recently thinking about the huge number of ways you can shuffle a deck of 52 cards and wondered if it would be possible to store arbitrary data, which I explore in this blog post.</p></div></div><div style="padding-top:30px;padding-bottom:30px" class="flex flex-col justify-center items-center md:w-[70%] xl:w-[50%] w-[85%] mx-auto"><p>This blog post will go into the detail of how I found a way to store text inside the order of a deck of cards. If you want to play around with the tool, go <a target="_blank" class="text-blue-500" href="https://deckcrypt.github.io/">here</a>. How many different ways can we shuffle a deck of 52 cards? We can think of it like picking one card from 52, then one from the remaining 51, and so on. We would get an expression that looks like <span data-testid="react-katex"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>52</mn><mo stretchy="false">)</mo><mo>â‹…</mo><mo stretchy="false">(</mo><mn>52</mn><mo>âˆ’</mo><mn>1</mn><mo stretchy="false">)</mo><mo>â‹…</mo><mo stretchy="false">(</mo><mn>52</mn><mo>âˆ’</mo><mn>2</mn><mo stretchy="false">)</mo><mo>â‹…</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo>â‹…</mo><mo stretchy="false">(</mo><mn>52</mn><mo>âˆ’</mo><mn>51</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(52)\cdot(52-1)\cdot(52-2)\cdot...\cdot(52-51)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">52</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">52</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">52</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">2</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.4445em;"></span><span class="mord">...</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">52</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">51</span><span class="mclose">)</span></span></span></span></span>, which is the same as the factorial of 52, which is shown as <span data-testid="react-katex"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>52</mn><mo stretchy="false">!</mo></mrow><annotation encoding="application/x-tex">52!</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">52</span><span class="mclose">!</span></span></span></span></span>. If we evaluate <span data-testid="react-katex"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>52</mn><mo stretchy="false">!</mo></mrow><annotation encoding="application/x-tex">52!</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">52</span><span class="mclose">!</span></span></span></span></span> we get around <span data-testid="react-katex"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>8</mn><mo>â‹…</mo><msup><mn>10</mn><mn>67</mn></msup></mrow><annotation encoding="application/x-tex">8 \cdot 10^{67}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">8</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">67</span></span></span></span></span></span></span></span></span></span></span></span></span>. This tells us that the number of bits that can be represented by a deck of cards is <span data-testid="react-katex"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo fence="true">âŒŠ</mo><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mn>8</mn><mo>â‹…</mo><msup><mn>10</mn><mn>67</mn></msup><mo stretchy="false">)</mo><mo fence="true">âŒ‹</mo></mrow><annotation encoding="application/x-tex">\left\lfloor log_2(8 \cdot 10^{67}) \right\rfloor</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2em;vertical-align:-0.35em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">âŒŠ</span></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">8</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">67</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">âŒ‹</span></span></span></span></span></span></span>, or <span data-testid="react-katex"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>225</mn></mrow><annotation encoding="application/x-tex">225</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">225</span></span></span></span></span> bits. But how do we actually store arbitrary bits? We need a one-to one mapping between the order of the cards and the theoretically usable bits. Initial thinking made me believe it could be done by using the color of the cards, because a deck of 52 cards will have 26 black cards and 26 red cards, however that would, in a worst-case scenario, only give you <span data-testid="react-katex"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>26</mn></mrow><annotation encoding="application/x-tex">26</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">26</span></span></span></span></span> bits, only <span data-testid="react-katex"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>11.</mn><mover accent="true"><mn>5</mn><mo>Ë™</mo></mover></mrow><annotation encoding="application/x-tex">11.\dot5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8813em;"></span><span class="mord">11.</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8813em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord">5</span></span><span style="top:-3.2134em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1389em;"><span class="mord">Ë™</span></span></span></span></span></span></span></span></span></span></span>% of our theoretical limit. I later came across the concept of a <a target="_blank" class="text-blue-500" href="https://en.wikipedia.org/wiki/Lehmer_code">Lehmer code</a>, which allows you to numerically represent each unique permutation of set of elements. The easiest way to compute a Lehmer code is to make each element have its own number or id, and then for each element we count the number of elements to the right of it that are less than it. An animation of this process is below.</p></div><div style="padding-top:30px;padding-bottom:30px" class="flex flex-col justify-center items-center md:w-[70%] xl:w-[50%] w-[85%] mx-auto"><img alt="output" about="Animation of the process of computing a Lehmer code." loading="lazy" width="600" height="400" decoding="async" data-nimg="1" class="rounded-lg border-2 border-[#000000]" style="color:transparent" src="/animation1.gif"/></div><div style="padding-top:30px;padding-bottom:30px" class="flex flex-col justify-center items-center md:w-[70%] xl:w-[50%] w-[85%] mx-auto"><p>Another way to generate a lehmer code is to make a list of all the numbers you have, and for each number, find the index of the number of your list and then remove it. This is not as fast as the first method but its a bit easier to implement. Now that we can turn our deck of 52 cards into a Lehmer code, how can we actually use that to store data? We have our code as a list of cards <span data-testid="react-katex"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo>=</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo separator="true">,</mo><mn>2...51</mn></mrow><annotation encoding="application/x-tex">i=0,1,2 ... 51</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2...51</span></span></span></span></span> where each card&#x27;s code <span data-testid="react-katex"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>N</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">N_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span> can be in the range <span data-testid="react-katex"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>51</mn><mo>âˆ’</mo><mi>i</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0, 51 -i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">51</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">i</span><span class="mclose">]</span></span></span></span></span>. It is difficult to take that and just store arbitrary data using this array, so we can finally convert it a (very large) denary base10 number. We can do this because this Lehmer code is given to us as a <a target="_blank" class="text-blue-500" href="https://en.wikipedia.org/wiki/Factorial_number_system">factorial number</a>. The factorial number system represents numbers using how many factorial numbers you need to make it. For example, let&#x27;s try to turn the denary number 17 into a factorial number. We use the factorial numbers <span data-testid="react-katex"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo separator="true">,</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mn>6</mn><mo separator="true">,</mo><mn>24</mn><mo separator="true">,</mo><mn>120...</mn></mrow><annotation encoding="application/x-tex">1, 1, 2, 6, 24, 120 ...</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">6</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">24</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">120...</span></span></span></span></span> and so if we wanted to make 17 we would use two 6s, two 2s, and one 1, giving us a factoradic of <span data-testid="react-katex"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mo>:</mo><mn>2</mn><mo>:</mo><mn>1</mn><mo>:</mo><msub><mn>0</mn><mo stretchy="false">!</mo></msub></mrow><annotation encoding="application/x-tex">2:2:1:0_!</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7944em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mclose mtight">!</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span> (Numbers in the factorial system are separated by colons and end with a !). We can convert from this back to decimal in a trivial way by just adding the factorial numbers for each factoradic digit. Some code for converting between decimal and factoradic is below.</p></div><div class="md:w-[70%] xl:w-[50%] w-[85%] mx-auto"><div class="relative text-white"><div style="position:absolute;right:10px;top:10px"><button class="p-2 rounded"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div><center><pre style="display:block;overflow-x:auto;padding:1rem;background:#F0F0F0;color:#444;background-color:transparent;border:2px solid #000000;border-radius:8px;width:100%;text-align:left"><code class="language-python" style="white-space:pre"><span class="hljs-function" style="font-weight:bold">def</span><span class="hljs-function"> </span><span class="hljs-function" style="color:#880000;font-weight:bold">convertToFactoradic</span><span class="hljs-function">(</span><span class="hljs-function hljs-params">number: </span><span class="hljs-function hljs-params" style="color:#397300">int</span><span class="hljs-function">) -&gt; [</span><span class="hljs-function" style="color:#397300">int</span><span class="hljs-function">]:</span><span>
</span>    result = []
<span>    divisor = </span><span style="color:#880000">1</span><span>
</span><span>    </span><span style="font-weight:bold">while</span><span>(number &gt; </span><span style="color:#880000">0</span><span>):
</span><span>        result.insert(</span><span style="color:#880000">0</span><span>, number % divisor)
</span>        number //= divisor
<span>        divisor+=</span><span style="color:#880000">1</span><span>
</span><span>    </span><span style="font-weight:bold">return</span><span> result
</span>
<span></span><span class="hljs-function" style="font-weight:bold">def</span><span class="hljs-function"> </span><span class="hljs-function" style="color:#880000;font-weight:bold">convertToDenary</span><span class="hljs-function">(</span><span class="hljs-function hljs-params">number: [</span><span class="hljs-function hljs-params" style="color:#397300">int</span><span class="hljs-function hljs-params">]</span><span class="hljs-function">) -&gt; </span><span class="hljs-function" style="color:#397300">int</span><span class="hljs-function">:</span><span>
</span><span>    </span><span style="font-weight:bold">global</span><span> factorials
</span><span>    result = </span><span style="color:#880000">0</span><span>
</span><span>    numlen = </span><span style="color:#397300">len</span><span>(number)
</span><span>    </span><span style="font-weight:bold">for</span><span> i </span><span style="font-weight:bold">in</span><span> </span><span style="color:#397300">range</span><span>(numlen):
</span><span>        result += number[i]*factorials[numlen-i-</span><span style="color:#880000">1</span><span>]
</span><span>    </span><span style="font-weight:bold">return</span><span> result
</span></code></pre></center></div></div><div style="padding-top:30px;padding-bottom:30px" class="flex flex-col justify-center items-center md:w-[70%] xl:w-[50%] w-[85%] mx-auto"><p>Now we can use this to store huge numbers inside our deck of cards. Shuffle a deck and run its permutation through the Lehmer code process, and then turn its factoradic number into a decimal number, and it will be <b>huge</b>. This is because its storing our 225 bits of data in a number. We have found a way to use <span data-testid="react-katex"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>100</mn></mrow><annotation encoding="application/x-tex">100</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">100</span></span></span></span></span>% of bits we calculated previously. But how can we make this usable? We have 225 bits to play around with and so if we wanted to store alphabetical characters, we could use <span data-testid="react-katex"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">âŒˆ</mo><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mn>26</mn><mo stretchy="false">)</mo><mo stretchy="false">âŒ‰</mo><mo>=</mo><mn>5</mn></mrow><annotation encoding="application/x-tex">\lceil log_2(26) \rceil = 5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">âŒˆ</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">26</span><span class="mclose">)âŒ‰</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">5</span></span></span></span></span> bits per character, which would leave us with some extra 6 characters. Most important is a space character, and after that I think a full stop is useful. If people want to put domains in there I thought a / slash might be useful. Finally a quotation mark, comma and dash are added to get our 5 bit, 32 symbol character set. With 5 bits per character, our 225 bits can store <span data-testid="react-katex"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>225</mn><mn>5</mn></mfrac><mo>=</mo><mn>45</mn></mrow><annotation encoding="application/x-tex">\frac{225}{5} = 45</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1901em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">5</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">225</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">45</span></span></span></span></span> characters.</p></div><div class="md:w-[70%] xl:w-[50%] w-[85%] mx-auto"><div class="relative text-white"><div style="position:absolute;right:10px;top:10px"><button class="p-2 rounded"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div><center><pre style="display:block;overflow-x:auto;padding:1rem;background:#F0F0F0;color:#444;background-color:transparent;border:2px solid #000000;border-radius:8px;width:100%;text-align:left"><code class="language-python" style="white-space:pre"><span>alphabet = </span><span style="color:#880000">&quot; .,-\&quot;/abcdefghijklmnopqrstuvwxyz&quot;</span></code></pre></center></div></div><div style="padding-top:30px;padding-bottom:30px" class="flex flex-col justify-center items-center md:w-[70%] xl:w-[50%] w-[85%] mx-auto"><p>In Python converting text to and from a 225 bit number is quite simple and just requires some bitwise operations. Additionally, the function to convert a number to a permutation just requires converting it to a factoradic and then using each digit to index into a list of available elements, removing each element after it is used.</p></div><div class="md:w-[70%] xl:w-[50%] w-[85%] mx-auto"><div class="relative text-white"><div style="position:absolute;right:10px;top:10px"><button class="p-2 rounded"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div><center><pre style="display:block;overflow-x:auto;padding:1rem;background:#F0F0F0;color:#444;background-color:transparent;border:2px solid #000000;border-radius:8px;width:100%;text-align:left"><code class="language-python" style="white-space:pre"><span class="hljs-function" style="font-weight:bold">def</span><span class="hljs-function"> </span><span class="hljs-function" style="color:#880000;font-weight:bold">convertToPermutation</span><span class="hljs-function">(</span><span class="hljs-function hljs-params">number: </span><span class="hljs-function hljs-params" style="color:#397300">int</span><span class="hljs-function hljs-params">, permutationElements: </span><span class="hljs-function hljs-params" style="color:#397300">int</span><span class="hljs-function">) -&gt; [</span><span class="hljs-function" style="color:#397300">int</span><span class="hljs-function">]:</span><span>
</span><span>    </span><span style="font-weight:bold">global</span><span> factorials
</span><span>    </span><span style="font-weight:bold">if</span><span>(number &gt;= factorials[permutationElements]):
</span><span>        </span><span style="font-weight:bold">raise</span><span> ValueError(</span><span style="color:#880000">&quot;Given number is outside of permutation range&quot;</span><span>)
</span>    factoradic = convertToFactoradic(number)
<span>    </span><span style="font-weight:bold">while</span><span> </span><span style="color:#397300">len</span><span>(factoradic) &lt; permutationElements:
</span><span>        factoradic.insert(</span><span style="color:#880000">0</span><span>,</span><span style="color:#880000">0</span><span>)
</span><span>    available = </span><span style="color:#397300">list</span><span>(</span><span style="color:#397300">range</span><span>(permutationElements))
</span>    permutation = []
<span>    </span><span style="font-weight:bold">for</span><span> i </span><span style="font-weight:bold">in</span><span> factoradic:
</span>        permutation.append(available[i])
<!-- -->        available.pop(i)
<span>    </span><span style="font-weight:bold">return</span><span> permutation
</span>
<span></span><span class="hljs-function" style="font-weight:bold">def</span><span class="hljs-function"> </span><span class="hljs-function" style="color:#880000;font-weight:bold">textToPackOfCards</span><span class="hljs-function">(</span><span class="hljs-function hljs-params">text: </span><span class="hljs-function hljs-params" style="color:#397300">str</span><span class="hljs-function">) -&gt; [</span><span class="hljs-function" style="color:#397300">int</span><span class="hljs-function">]:</span><span>
</span><span>    </span><span style="font-weight:bold">global</span><span> alphabet
</span><span>    </span><span style="font-weight:bold">if</span><span>(</span><span style="color:#397300">len</span><span>(text) &gt; </span><span style="color:#880000">45</span><span>):
</span><span>        </span><span style="font-weight:bold">raise</span><span> ValueError(</span><span style="color:#880000">&quot;Text must be &lt;=45 characters to be represented in one deck of cards&quot;</span><span>)
</span><span>    </span><span style="font-weight:bold">for</span><span> i </span><span style="font-weight:bold">in</span><span> text.lower():
</span><span>        </span><span style="font-weight:bold">if</span><span> </span><span style="font-weight:bold">not</span><span> i </span><span style="font-weight:bold">in</span><span> alphabet:
</span><span>            </span><span style="font-weight:bold">raise</span><span> ValueError(</span><span style="color:#880000">&quot;Text must only be characters A-Z or &#x27;., -\&quot;/&#x27; in order to use 5bit&quot;</span><span>)
</span><span>    data = </span><span style="color:#880000">0</span><span>
</span><span>    </span><span style="font-weight:bold">for</span><span> i </span><span style="font-weight:bold">in</span><span> text.lower():
</span><span>        data&lt;&lt;=</span><span style="color:#880000">5</span><span>
</span>        data|=alphabet.index(i)
<span>    data &lt;&lt;= (</span><span style="color:#880000">5</span><span>*(</span><span style="color:#880000">45</span><span>-</span><span style="color:#397300">len</span><span>(text)))
</span><span>    </span><span style="font-weight:bold">return</span><span> convertToPermutation(data, </span><span style="color:#880000">52</span><span>)
</span></code></pre></center></div></div><div style="padding-top:30px;padding-bottom:30px" class="flex flex-col justify-center items-center md:w-[70%] xl:w-[50%] w-[85%] mx-auto"><p>The overall process of converting text to a deck of cards is shown below, and the main reason this works to both encode and decode is that each step shown is reversible.</p></div><div style="padding-top:30px;padding-bottom:30px" class="flex flex-col justify-center items-center md:w-[70%] xl:w-[50%] w-[85%] mx-auto"><img alt="output" about="Animation of the process of converting text to a deck of cards." loading="lazy" width="600" height="400" decoding="async" data-nimg="1" style="color:transparent" src="/img10.png"/></div><div style="padding-top:30px;padding-bottom:30px" class="flex flex-col justify-center items-center md:w-[70%] xl:w-[50%] w-[85%] mx-auto"><p>I tested it out, and it worked pretty well. One interesting side effect of using Lehmer codes is that if you change a card, all the characters after that card will be affected, and characters before will be fine. I hacked together a website where I ported the functions to c++ and used WebAssembly/Emscripten to make it run in the browser <i>Blazingly Fast ðŸ”¥</i>, I also added a simple XOR cipher with a second string of text if you want to &#x27;encrypt&#x27; your message before it hits the deck, but I think it&#x27;s probably not neccesary as no one would suspect that you&#x27;ve hidden a message in your deck of cards! Check it out <a target="_blank" class="text-blue-500" href="https://deckcrypt.github.io/">here</a> and I hope you enjoyed this read. This whole process from thinking of the idea to implementing it was a lot of fun and I&#x27;m glad I got to share it with you. If you have any questions or comments, please feel free to reach out to me <a class="text-blue-500" href="/contact/">here</a>.</p></div></div></div></div><script defer="" src="https://cloud.umami.is/script.js" data-website-id="eaac838f-0bef-4455-a834-2e1455d78d8c"></script><script src="/_next/static/chunks/webpack-03eb770fb92866e8.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[47141,[\"177\",\"static/chunks/app/layout-7bf6758fb5f273d3.js\"],\"default\"]\n3:I[15244,[],\"\"]\n4:I[16310,[\"606\",\"static/chunks/606-87b5527f068dfcd7.js\",\"173\",\"static/chunks/173-bdc4390233342f3f.js\",\"39\",\"static/chunks/app/error-41473be2b1332ec4.js\"],\"default\"]\n5:I[43866,[],\"\"]\n6:I[85408,[\"206\",\"static/chunks/5e22fd23-e3b42928b29e9ef2.js\",\"606\",\"static/chunks/606-87b5527f068dfcd7.js\",\"173\",\"static/chunks/173-bdc4390233342f3f.js\",\"345\",\"static/chunks/app/not-found-0ea2b0cea0bef037.js\"],\"default\"]\n7:I[57033,[],\"ClientPageRoot\"]\n8:I[60644,[\"206\",\"static/chunks/5e22fd23-e3b42928b29e9ef2.js\",\"913\",\"static/chunks/bdfe9574-bcc0677e7e5c7472.js\",\"606\",\"static/chunks/606-87b5527f068dfcd7.js\",\"173\",\"static/chunks/173-bdc4390233342f3f.js\",\"126\",\"static/chunks/126-4575238353f7612a.js\",\"565\",\"static/chunks/565-7eb30c6b522f4cd0.js\",\"477\",\"static/chunks/app/blog/posts/3/page-46247d7387207951.js\"],\"default\"]\nb:I[86213,[],\"OutletBoundary\"]\nd:I[86213,[],\"MetadataBoundary\"]\nf:I[86213,[],\"ViewportBoundary\"]\n11:I[94788,[\"173\",\"static/chunks/173-bdc4390233342f3f.js\",\"219\",\"static/chunks/app/global-error-de714b0c9f5b5117.js\"],\"default\"]\n:HL[\"/_next/static/media/fc78d7f357de104b-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/css/7374508bee51fb34.css\",\"style\"]\n:HL[\"/_next/static/css/3864b451a61e4546.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"AmzhgVnv-gEu_dPxiqjBx\",\"p\":\"\",\"c\":[\"\",\"blog\",\"posts\",\"3\",\"\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"blog\",{\"children\":[\"posts\",{\"children\":[\"3\",{\"children\":[\"__PAGE__\",{}]}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/7374508bee51fb34.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"className\":\" __className_9696c7 \",\"style\":{\"minHeight\":\"100vh\",\"backgroundColor\":\"var(--page-bg, #dce3dc)\"},\"children\":[[\"$\",\"$L2\",null,{\"children\":[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$4\",\"errorStyles\":[],\"errorScripts\":[],\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[],[\"$\",\"$L6\",null,{}]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}],[\"$\",\"script\",null,{\"defer\":true,\"src\":\"https://cloud.umami.is/script.js\",\"data-website-id\":\"eaac838f-0bef-4455-a834-2e1455d78d8c\"}]]}]}]]}],{\"children\":[\"blog\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"blog\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"posts\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"blog\",\"children\",\"posts\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"3\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"blog\",\"children\",\"posts\",\"children\",\"3\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[[\"$\",\"$L7\",null,{\"Component\":\"$8\",\"searchParams\":{},\"params\":{},\"promises\":[\"$@9\",\"$@a\"]}],[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/3864b451a61e4546.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"$Lb\",null,{\"children\":\"$Lc\"}]]}],{},null,false]},null,false]},null,false]},null,false]},null,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$1\",\"qko8FVp_Ua0oCe3arOut3\",{\"children\":[[\"$\",\"$Ld\",null,{\"children\":\"$Le\"}],[\"$\",\"$Lf\",null,{\"children\":\"$L10\"}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]]}]]}],false]],\"m\":\"$undefined\",\"G\":[\"$11\",[]],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"9:{}\na:{}\n"])</script><script>self.__next_f.push([1,"10:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\ne:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"1\",{\"children\":\"Asher Falcon\"}],[\"$\",\"meta\",\"2\",{\"name\":\"description\",\"content\":\"Asher Falcon's personal website - Software engineer and student\"}],[\"$\",\"meta\",\"3\",{\"name\":\"author\",\"content\":\"Asher Falcon\"}],[\"$\",\"meta\",\"4\",{\"name\":\"keywords\",\"content\":\"Asher Falcon,Software Engineer,Student,Developer,Portfolio\"}],[\"$\",\"meta\",\"5\",{\"name\":\"creator\",\"content\":\"Asher Falcon\"}],[\"$\",\"link\",\"6\",{\"rel\":\"alternate\",\"type\":\"application/rss+xml\",\"href\":\"/rss.xml\"}]]\n"])</script><script>self.__next_f.push([1,"c:null\n"])</script></body></html>