(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[676],{66802:(e,t,n)=>{Promise.resolve().then(n.bind(n,99768))},99768:(e,t,n)=>{"use strict";function a(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.r(t),n.d(t,{default:()=>y});var i=n(95155);let r="game of life with braille",s="Using braille characters, we can render conways game of life in the terminal. This post goes through how we can use the 2x4 braille characters to display our map in C++.";var l=n(48173),o=n.n(l),x=n(76559),c=n(12115),h=n(15266),d=n(3104),u=n(53861),m=n(5565);function p(){let e=a(["\n\begin{array}{|c|c|c|c|c|c|c|}\nhline\n	ext{A} & 	ext{B} & 	ext{C} & 	ext{D} & 	ext{E} & 	ext{F} & 	ext{G} \\\n	ext{⠁} & 	ext{⠃} & 	ext{⠉} & 	ext{⠙} & 	ext{⠑} & 	ext{⠋} & 	ext{⠛} \\\nhline\n	ext{H} & 	ext{I} & 	ext{J} & 	ext{K} & 	ext{L} & 	ext{M} & 	ext{N} \\\n	ext{⠓} & 	ext{⠊} & 	ext{⠚} & 	ext{⠅} & 	ext{⠇} & 	ext{⠍} & 	ext{⠝} \\\nhline\n	ext{O} & 	ext{P} & 	ext{Q} & 	ext{R} & 	ext{S} & 	ext{T} & 	ext{U} \\\n	ext{⠕} & 	ext{⠏} & 	ext{⠟} & 	ext{⠗} & 	ext{⠎} & 	ext{⠞} & 	ext{⠥} \\\nhline\n	ext{V} & 	ext{W} & 	ext{X} & 	ext{Y} & 	ext{Z} & & \\\n	ext{⠧} & 	ext{⠺} & 	ext{⠭} & 	ext{⠽} & 	ext{⠵} & & \\\nhline\nend{array}\n"],["\n\\begin{array}{|c|c|c|c|c|c|c|}\n\\hline\n\\text{A} & \\text{B} & \\text{C} & \\text{D} & \\text{E} & \\text{F} & \\text{G} \\\\\n\\text{⠁} & \\text{⠃} & \\text{⠉} & \\text{⠙} & \\text{⠑} & \\text{⠋} & \\text{⠛} \\\\\n\\hline\n\\text{H} & \\text{I} & \\text{J} & \\text{K} & \\text{L} & \\text{M} & \\text{N} \\\\\n\\text{⠓} & \\text{⠊} & \\text{⠚} & \\text{⠅} & \\text{⠇} & \\text{⠍} & \\text{⠝} \\\\\n\\hline\n\\text{O} & \\text{P} & \\text{Q} & \\text{R} & \\text{S} & \\text{T} & \\text{U} \\\\\n\\text{⠕} & \\text{⠏} & \\text{⠟} & \\text{⠗} & \\text{⠎} & \\text{⠞} & \\text{⠥} \\\\\n\\hline\n\\text{V} & \\text{W} & \\text{X} & \\text{Y} & \\text{Z} & & \\\\\n\\text{⠧} & \\text{⠺} & \\text{⠭} & \\text{⠽} & \\text{⠵} & & \\\\\n\\hline\n\\end{array}\n"]);return p=function(){return e},e}function w(){let e=a(["\n\begin{matrix}\n1 & 4 \\\n2 & 5 \\\n3 & 6 \\\n7 & 8\nend{matrix}\n\n"],["\n\\begin{matrix}\n1 & 4 \\\\\n2 & 5 \\\\\n3 & 6 \\\\\n7 & 8\n\\end{matrix}\n\n"]);return w=function(){return e},e}function f(){let e=a(["\n\begin{array}{|c|c|c|c|c|c|}\nhline\n	ext{First code point} & 	ext{Last code point} & 	ext{Byte 1} & 	ext{Byte 2} & 	ext{Byte 3} & 	ext{Byte 4} \\\nhline\n	ext{U+0000} & 	ext{U+007F} & 	ext{0yyyzzzz} & & & \\\nhline\n	ext{U+0080} & 	ext{U+07FF} & 	ext{110xxxyy} & 	ext{10yyzzzz} & & \\\nhline\n	ext{U+0800} & 	ext{U+FFFF} & 	ext{1110wwww} & 	ext{10xxxxyy} & 	ext{10yyzzzz} & \\\nhline\n	ext{U+010000} & 	ext{U+10FFFF} & 	ext{11110uvv} & 	ext{10vvwwww} & 	ext{10xxxxyy} & 	ext{10yyzzzz} \\\nhline\nend{array}\n"],["\n\\begin{array}{|c|c|c|c|c|c|}\n\\hline\n\\text{First code point} & \\text{Last code point} & \\text{Byte 1} & \\text{Byte 2} & \\text{Byte 3} & \\text{Byte 4} \\\\\n\\hline\n\\text{U+0000} & \\text{U+007F} & \\text{0yyyzzzz} & & & \\\\\n\\hline\n\\text{U+0080} & \\text{U+07FF} & \\text{110xxxyy} & \\text{10yyzzzz} & & \\\\\n\\hline\n\\text{U+0800} & \\text{U+FFFF} & \\text{1110wwww} & \\text{10xxxxyy} & \\text{10yyzzzz} & \\\\\n\\hline\n\\text{U+010000} & \\text{U+10FFFF} & \\text{11110uvv} & \\text{10vvwwww} & \\text{10xxxxyy} & \\text{10yyzzzz} \\\\\n\\hline\n\\end{array}\n"]);return f=function(){return e},e}function y(){let e="".concat(r," | Asher Falcon"),t=String.raw(p());return String.raw(w()),String.raw(f()),(0,c.useEffect)(()=>{document.title=e;let t=document.querySelector('meta[name="description"]');t&&t.setAttribute("content",s);let n=document.querySelector('meta[property="og:title"]');n||((n=document.createElement("meta")).setAttribute("property","og:title"),document.head.appendChild(n)),n.setAttribute("content",r);let a=document.querySelector('meta[property="og:description"]');a||((a=document.createElement("meta")).setAttribute("property","og:description"),document.head.appendChild(a)),a.setAttribute("content",s)},[e]),(0,i.jsx)("div",{className:"h-screen bg-ashwhite",children:(0,i.jsx)(x.PageTransition,{children:(0,i.jsxs)("div",{className:"pb-[20px]",children:[(0,i.jsxs)("div",{style:{paddingTop:"50px"},className:"relative flex justify-center items-center h-[50px]",children:[(0,i.jsx)("div",{className:"absolute left-0 flex items-center h-full ml-6",children:(0,i.jsx)(h.default,{defaultPath:"/blog"})}),(0,i.jsx)("span",{className:"text-xl",children:r})]}),(0,i.jsx)("div",{style:{paddingTop:"30px"},className:"flex justify-center items-center md:w-[70%] xl:w-[50%] w-[85%] mx-auto",children:(0,i.jsx)("div",{children:(0,i.jsx)("p",{children:s})})}),(0,i.jsxs)("div",{style:{paddingTop:"30px"},className:"flex flex-col justify-center items-center md:w-[70%] xl:w-[50%] w-[85%] mx-auto",children:[(0,i.jsxs)("p",{children:["Ever came across one of ",(0,i.jsx)(u.Ay,{expression:"⠗"})," these? These patterns of dots are called braille characters, and are used by people with visual impairments to read and write. Each different arrangement of the 6 dots makes a different character, here are the 26 letters of the english alphabet in braille:"]}),(0,i.jsx)(u.Ay,{expression:t,block:!0}),(0,i.jsxs)("p",{children:["But there's actually more. If you look at the ",(0,i.jsx)(o(),{className:"text-blue-500",href:"https://en.wikipedia.org/wiki/Braille_Patterns",target:"_blank",children:"wikipedia page"})," about Braille characters, you'll see some extra dots! There is a version of Braille called ",(0,i.jsx)("b",{children:"Computer Braille"}),", which has 8 dots to add more symbols for the use of computers, such as parentheses or brackets that are needed for programming. So, there are ",(0,i.jsx)(u.Ay,{expression:"2^8 = 256"})," Braille characters in the Unicode block, which starts at U+2800 and ends at U+28FF. I thought it would be a fun idea to use these characters to render the cells in Conway's Game of Life, a famous cellular automaton where four rules create complex and beautiful patterns. In order to render cells, we need to be able to get the Braille character for a given section of the map, which we will split up into small 2x4 blocks. Because Braille was originally only six dots, the numbering is a little bit strange. As you can see in the animation below, using the indexes of the dots, we can get get 8 bits from whether each dot is present. We take the hexadecimal of these 8 bits and add it to U+2800, the first character in the block, to get the specific Braille character."]})]}),(0,i.jsx)("div",{style:{paddingTop:"30px"},className:"flex flex-col justify-center items-center md:w-[70%] xl:w-[50%] w-[85%] mx-auto",children:(0,i.jsx)(m.default,{src:"/animation3.gif",alt:"Braille encoding animation",width:500,height:500,className:"rounded-lg border-2 border-[#000000]"})}),(0,i.jsx)("div",{style:{paddingTop:"30px"},className:"flex flex-col justify-center items-center md:w-[70%] xl:w-[50%] w-[85%] mx-auto",children:(0,i.jsxs)("p",{children:["However, we're doing this in C++ and normally if you want to print a specific character like this, we would use escape codes. For example the c++ code to print the character in the previous demo above would be",(0,i.jsx)(d.q,{language:"c++",code:' std::cout << "\\u289B" '}),"but we want to get them pragmatically, and escape codes can't be used partly, like printing the \\u28 and then using logic to print the 9B. You have to have it all in one place if you want to use it like that, and I ",(0,i.jsx)("b",{children:"really"})," don't want to make a lookup table for every character. So, we can print it using UTF-8, we make a 4 byte array and fill it in with our data. We are using U+2800 to U+28FF, so we are using the third row in the table below. In C++ I did this by making a 4 char array and filling it with our values with some bitwise operations, because our 16 bits for 0x289B, for example, must be split between the three bytes."]})}),(0,i.jsx)("div",{style:{paddingTop:"30px"},className:"flex flex-col justify-center items-center md:w-[70%] xl:w-[50%] w-[85%] mx-auto",children:(0,i.jsx)(m.default,{src:"/img12.png",alt:"UTF-8 Table",width:500,height:500,className:""})}),(0,i.jsx)("div",{style:{paddingTop:"30px"},className:"flex flex-col justify-center items-center md:w-[70%] xl:w-[50%] w-[85%] mx-auto",children:(0,i.jsxs)("p",{children:["We add our 8 bits from the Braille conversion to ",(0,i.jsx)(d.q,{language:"python",code:"0x2800"}),", and we know our first byte will always be ",(0,i.jsx)(u.Ay,{expression:"11100010"})," because our 16 bits always start with the 2800. For the next byte we can just shift our sum 6 bits to the right and do a bitwise AND with ",(0,i.jsx)(d.q,{language:"python",code:"0x3F"})," then a bitwise OR with 0x80. We do something similar for the last byte. We leave the last byte empty as our null terminator. The code for this is below:"]})}),(0,i.jsx)("div",{className:"pt-4",children:(0,i.jsx)(d.A,{language:"c",code:"char utf8[4] = {0};\nuint16_t codepoint = 0x2800 + sum;\nutf8[0] = 0xE2;\nutf8[1] = 0x80 | ((codepoint >> 6) & 0x3F);\nutf8[2] = 0x80 | (codepoint & 0x3F);\nstd::cout << utf8;"})}),(0,i.jsx)("div",{style:{paddingTop:"30px"},className:"flex flex-col justify-center items-center md:w-[70%] xl:w-[50%] w-[85%] mx-auto",children:(0,i.jsx)("p",{children:"After that, there's nothing especially complicated in getting it to run Conway's Game of Life. I won't get into how the game works because there will be countless better explanations out there, but I used a vector of bitsets to store my map, and I loop through the top left of where each Braille character would be and then make a character for that 2x4 block, print it, and then after the whole row is done, do a new line. I added some ANSI codes to clear the screen and update the window title with some stats, like cells alive. An example of what the output looks like is below, on a 50x50 grid. For now I'm just passing some random numbers to decide the initial state, but I'm sure you could play around with letting the user interact to change tiles."})}),(0,i.jsx)("div",{style:{paddingTop:"30px"},className:"flex flex-col justify-center items-center md:w-[70%] xl:w-[50%] w-[85%] mx-auto",children:(0,i.jsx)(m.default,{src:"/animation4.gif",alt:"Game of Life",width:500,height:500,className:"rounded-lg border-2 border-[#000000]"})}),(0,i.jsx)("div",{style:{paddingTop:"30px"},className:"flex flex-col justify-center items-center md:w-[70%] xl:w-[50%] w-[85%] mx-auto",children:(0,i.jsxs)("p",{children:["Thanks for reading, the code is ",(0,i.jsx)(o(),{className:"text-blue-500",href:"https://github.com/ashfn/life",target:"_blank",children:"here"}),", and if you have any questions or comments, feel free to reach out to me ",(0,i.jsx)(o(),{className:"text-blue-500",href:"../../contact",children:"here"}),"."]})})]})})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[562,206,913,606,173,126,565,203,441,517,358],()=>t(66802)),_N_E=e.O()}]);